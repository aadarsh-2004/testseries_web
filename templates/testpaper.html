<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='testpaper.css') }}">
    <title>Test Series Questions</title>
</head>
<body>
    <form method="post" action="/submit">
        <header>
            <h1>Test Series Questions</h1>
        </header>

        <section id="questions">
            <h2>Page {{ page_number }}</h2>

            {% for question in questions %}
                <div class="question">
                    <p class="question-text">{{ question[1] }}</p>
                    <ul class="options">
                        <li class="option"><label><input type="radio" name="q{{ question[0] }}" value="a"> {{ question[2] }}</label></li>
                        <li class="option"><label><input type="radio" name="q{{ question[0] }}" value="b"> {{ question[3] }}</label></li>
                        <li class="option"><label><input type="radio" name="q{{ question[0] }}" value="c"> {{ question[4] }}</label></li>
                        <li class="option"><label><input type="radio" name="q{{ question[0] }}" value="d"> {{ question[5] }}</label></li>
                    </ul>
                </div>
            {% endfor %}

            <!-- Add navigation buttons with improved logic -->
            <div class="navigation-buttons">
                {% if page_number > 1 %}
                    <a class="prev-page-button" href="{{ url_for('testpaper', page=page_number-1) }}">Previous Page</a>
                {% else %}
                    <button class="prev-page-button" disabled>Previous Page</button>
                {% endif %}
                
                {% if page_number < total_pages %}
                    <a class="next-page-button" href="{{ url_for('testpaper', page=page_number+1) }}">Next Page</a>
                {% else %}
                    <button class="submit-button" type="submit">Submit Test</button>
                {% endif %}
            </div>
        </section>
    </form>

    <script>
        function nextPage(pageNumber) {
            window.location.href = `?page=${pageNumber}`;
        }

        function prevPage(pageNumber) {
            window.location.href = `?page=${pageNumber}`;
        }
    </script>
</body>
</html>
